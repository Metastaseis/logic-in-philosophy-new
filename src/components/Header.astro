---
import LangSwitcher from './LangSwitcher.astro';
const { lang = 'en' } = Astro.props;

// BASE_URL will be "/" locally, and "/<repo>/" on GitHub Pages
const base = import.meta.env.BASE_URL;

const nav = [
  { href: `${base}${lang}/ruth-manor/`, label: { en: 'Ruth Manor', he: 'רות מנור', ar: 'روث مانور' } },
  { href: `${base}${lang}/actah/`, label: { en: 'ACTAH', he: 'ACTAH', ar: 'ACTAH' } },
  { href: `${base}${lang}/research-themes`, label: { en: 'Research Themes', he: 'נושאי מחקר', ar: 'محاور البحث' } },
  { href: `${base}${lang}/news/`, label: { en: 'News', he: 'חדשות', ar: 'أخبار' } },
  { href: `${base}${lang}/events/`, label: { en: 'Events', he: 'אירועים', ar: 'فعاليات' } },
  { href: `${base}${lang}/people/`, label: { en: 'People', he: 'אנשים', ar: 'أشخاص' } },
  { href: `${base}${lang}/publications`, label: { en: 'Publications', he: 'פרסומים', ar: 'منشورات' } },
  { href: `${base}${lang}/impact`, label: { en: 'Impact', he: 'השפעה', ar: 'أثر' } },
  { href: `${base}${lang}/teaching-guide`, label: { en: 'Teaching Guide', he: 'מדריך הוראה', ar: 'دليل التدريس' } }
];
---
<header class="container py-6 flex flex-wrap items-center justify-between gap-4">
  <!-- Left: logo + title; shrink so it never overlaps the nav -->
  <a href={`${base}${lang}/`} class="flex items-center gap-3 shrink-0">
    <img src="/logo.svg" alt="Logic in Philosophy" class="w-10 h-10" />
    <span class="text-2xl font-semibold">Logic in Philosophy</span>
  </a>

  <!-- Right: desktop nav -->
  <nav class="hidden md:flex gap-5">
    {nav.map((item) => (
      <a href={item.href} class="hover:underline">{item.label[lang]}</a>
    ))}
  </nav>

  <!-- Utilities: language + mobile menu -->
  <div class="flex items-center gap-3 ms-auto md:ms-0">
    <LangSwitcher lang={lang} />
    <details class="md:hidden">
      <summary class="cursor-pointer px-3 py-2 border rounded">Menu</summary>
      <div class="mt-2 flex flex-col gap-2 bg-white border p-3">
        {nav.map((item) => (
          <a href={item.href} class="hover:underline">{item.label[lang]}</a>
        ))}
      </div>
    </details>
  </div>
</header>
